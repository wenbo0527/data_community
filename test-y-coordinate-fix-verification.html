<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yåæ ‡ä¿®å¤éªŒè¯æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .test-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .test-title {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .test-item {
            margin: 15px 0;
            padding: 10px;
            border-left: 4px solid #3498db;
            background-color: #f8f9fa;
        }
        .status {
            font-weight: bold;
            padding: 4px 8px;
            border-radius: 4px;
            margin-left: 10px;
        }
        .status.pending {
            background-color: #ffeaa7;
            color: #d63031;
        }
        .status.success {
            background-color: #00b894;
            color: white;
        }
        .status.error {
            background-color: #e17055;
            color: white;
        }
        .log-section {
            background-color: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
            margin: 10px 0;
        }
        .button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .button:hover {
            background-color: #2980b9;
        }
        .button.danger {
            background-color: #e74c3c;
        }
        .button.danger:hover {
            background-color: #c0392b;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1 class="test-title">ğŸ”§ Yåæ ‡ä¸ä¸€è‡´é—®é¢˜ä¿®å¤éªŒè¯</h1>
        
        <div class="test-item">
            <h3>ğŸ“‹ ä¿®å¤å†…å®¹æ£€æŸ¥æ¸…å•</h3>
            <ul>
                <li>âœ… TaskFlowCanvas.vue - å¸ƒå±€å¼•æ“åˆå§‹åŒ–åç«‹å³è®¾ç½®å¼•ç”¨</li>
                <li>âœ… UnifiedPreviewLineManager.js - æ·»åŠ setLayoutEngineæ–¹æ³•è°ƒç”¨é‡æ–°è®¡ç®—</li>
                <li>âœ… UnifiedPreviewLineManager.js - æ·»åŠ å¾…å¤„ç†é˜Ÿåˆ—æœºåˆ¶</li>
                <li>âœ… UnifiedPreviewLineManager.js - ä¿®æ”¹createUnifiedPreviewLineä½¿ç”¨é˜Ÿåˆ—</li>
                <li>âœ… UnifiedPreviewLineManager.js - ä¿®æ”¹updatePreviewLinePositionä½¿ç”¨é˜Ÿåˆ—</li>
            </ul>
        </div>

        <div class="test-item">
            <h3>ğŸ¯ éªŒè¯ç›®æ ‡</h3>
            <p><strong>ä¸»è¦ç›®æ ‡ï¼š</strong>ç¡®ä¿é¢„è§ˆçº¿çš„Yåæ ‡ä¸å¯¹åº”å±‚çº§çš„èŠ‚ç‚¹Yåæ ‡ä¸€è‡´</p>
            <p><strong>å…³é”®æŒ‡æ ‡ï¼š</strong></p>
            <ul>
                <li>åŒå±‚çº§å…ƒç´ Yåæ ‡ç›¸åŒ</li>
                <li>é¢„è§ˆçº¿ç»ˆç‚¹Yåæ ‡æ­£ç¡®</li>
                <li>æ— "å¸ƒå±€å¼•æ“ä¸å¯ç”¨"è­¦å‘Š</li>
                <li>å¸ƒå±€å¼•æ“å¼•ç”¨ä¼ é€’æˆåŠŸ</li>
            </ul>
        </div>

        <div class="test-item">
            <h3>ğŸ§ª æµ‹è¯•æ­¥éª¤</h3>
            <ol>
                <li><strong>æ‰“å¼€ç”»å¸ƒé¡µé¢</strong> - è®¿é—®ä»»åŠ¡æµç”»å¸ƒ</li>
                <li><strong>æ·»åŠ èŠ‚ç‚¹</strong> - åˆ›å»ºå¤šä¸ªä¸åŒç±»å‹çš„èŠ‚ç‚¹</li>
                <li><strong>è§‚å¯Ÿé¢„è§ˆçº¿</strong> - æ£€æŸ¥é¢„è§ˆçº¿ä½ç½®æ˜¯å¦æ­£ç¡®</li>
                <li><strong>æ£€æŸ¥æ§åˆ¶å°</strong> - ç¡®è®¤æ— å¸ƒå±€å¼•æ“é”™è¯¯</li>
                <li><strong>éªŒè¯Yåæ ‡</strong> - åŒå±‚å…ƒç´ Yåæ ‡åº”è¯¥ä¸€è‡´</li>
            </ol>
        </div>

        <div class="test-item">
            <h3>ğŸ“Š é¢„æœŸç»“æœ</h3>
            <div class="log-section">
ğŸ”— [ç»Ÿä¸€é¢„è§ˆçº¿ç®¡ç†å™¨] å¸ƒå±€å¼•æ“å¼•ç”¨å·²è®¾ç½®: {å¼•æ“ç±»å‹: 'UnifiedStructuredLayoutEngine', æœ‰getNodeLayerYæ–¹æ³•: true, æœ‰getNextLayerYæ–¹æ³•: true}
ğŸ“‹ [ç»Ÿä¸€é¢„è§ˆçº¿ç®¡ç†å™¨] å¼€å§‹é‡æ–°è®¡ç®—æ‰€æœ‰é¢„è§ˆçº¿ä½ç½®...
âœ… [ç»Ÿä¸€é¢„è§ˆçº¿ç®¡ç†å™¨] æ‰€æœ‰é¢„è§ˆçº¿ä½ç½®é‡æ–°è®¡ç®—å®Œæˆ
ğŸ“ [å¸ƒå±€å¼•æ“] èŠ‚ç‚¹ xxx ä¸‹ä¸€å±‚Yåæ ‡: ç¬¬2å±‚ -> Y=300
âœ… [é¢„è§ˆçº¿è®¡ç®—] ä½¿ç”¨å¸ƒå±€å¼•æ“è®¡ç®—Yåæ ‡: 300
            </div>
        </div>

        <div class="test-item">
            <h3>âš ï¸ éœ€è¦å…³æ³¨çš„è­¦å‘Š</h3>
            <p>å¦‚æœä»ç„¶çœ‹åˆ°ä»¥ä¸‹è­¦å‘Šï¼Œè¯´æ˜ä¿®å¤ä¸å®Œæ•´ï¼š</p>
            <div class="log-section">
âš ï¸ [é¢„è§ˆçº¿è®¡ç®—] å¸ƒå±€å¼•æ“ä¸å¯ç”¨ï¼Œä½¿ç”¨å›ºå®šåç§»é‡
âš ï¸ [é¢„è§ˆçº¿ç®¡ç†å™¨] æ— æ³•è·å–å¸ƒå±€å¼•æ“å¼•ç”¨
            </div>
        </div>

        <div class="test-item">
            <h3>ğŸš€ æµ‹è¯•æ“ä½œ</h3>
            <button class="button" onclick="openCanvas()">æ‰“å¼€ç”»å¸ƒæµ‹è¯•</button>
            <button class="button" onclick="checkConsole()">æ£€æŸ¥æ§åˆ¶å°æ—¥å¿—</button>
            <button class="button danger" onclick="clearLogs()">æ¸…ç©ºæ—¥å¿—</button>
        </div>

        <div class="test-item">
            <h3>ğŸ“ æµ‹è¯•è®°å½•</h3>
            <div id="testResults" class="log-section">
ç­‰å¾…æµ‹è¯•ç»“æœ...
            </div>
        </div>
    </div>

    <script>
        function openCanvas() {
            // è¿™é‡Œåº”è¯¥å¯¼èˆªåˆ°ç”»å¸ƒé¡µé¢
            addTestResult('ğŸ”„ å‡†å¤‡æ‰“å¼€ç”»å¸ƒé¡µé¢è¿›è¡Œæµ‹è¯•...');
            addTestResult('ğŸ’¡ è¯·æ‰‹åŠ¨å¯¼èˆªåˆ°ä»»åŠ¡æµç”»å¸ƒé¡µé¢');
            addTestResult('ğŸ“‹ æµ‹è¯•æ­¥éª¤ï¼š');
            addTestResult('  1. åˆ›å»ºèµ·å§‹èŠ‚ç‚¹');
            addTestResult('  2. æ·»åŠ å¤šä¸ªåç»­èŠ‚ç‚¹');
            addTestResult('  3. è§‚å¯Ÿé¢„è§ˆçº¿ä½ç½®');
            addTestResult('  4. æ£€æŸ¥æ§åˆ¶å°æ—¥å¿—');
        }

        function checkConsole() {
            addTestResult('ğŸ” è¯·æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°ä¸­çš„æ—¥å¿—ä¿¡æ¯');
            addTestResult('âœ… æœŸæœ›çœ‹åˆ°ï¼šå¸ƒå±€å¼•æ“å¼•ç”¨å·²è®¾ç½®');
            addTestResult('âœ… æœŸæœ›çœ‹åˆ°ï¼šé¢„è§ˆçº¿ä½ç½®é‡æ–°è®¡ç®—å®Œæˆ');
            addTestResult('âŒ ä¸åº”çœ‹åˆ°ï¼šå¸ƒå±€å¼•æ“ä¸å¯ç”¨è­¦å‘Š');
        }

        function clearLogs() {
            document.getElementById('testResults').innerHTML = 'æ—¥å¿—å·²æ¸…ç©ºï¼Œç­‰å¾…æ–°çš„æµ‹è¯•ç»“æœ...';
        }

        function addTestResult(message) {
            const resultsDiv = document.getElementById('testResults');
            const timestamp = new Date().toLocaleTimeString();
            resultsDiv.innerHTML += `[${timestamp}] ${message}\n`;
            resultsDiv.scrollTop = resultsDiv.scrollHeight;
        }

        // é¡µé¢åŠ è½½æ—¶çš„åˆå§‹åŒ–
        window.onload = function() {
            addTestResult('ğŸ¯ Yåæ ‡ä¿®å¤éªŒè¯æµ‹è¯•å·²å‡†å¤‡å°±ç»ª');
            addTestResult('ğŸ“‹ è¯·æŒ‰ç…§æµ‹è¯•æ­¥éª¤è¿›è¡ŒéªŒè¯');
        };
    </script>
</body>
</html>