import{B as U,r as _,a as V,b as R,c as w,f as e,w as t,u as j,M as h,J as E,e as s,o as y,i as b,h as p,j as r,t as l,F as J,m as L,d as P,a1 as $,s as q,v as A,_ as G}from"./index-CsgcdrY7.js";import{m as H}from"./data-map-BtHUnIhr.js";import{I as K}from"./index-CyZFS1Lf.js";const O=u=>(q("data-v-52734892"),u=u(),A(),u),Q={class:"collection-detail"},W=O(()=>p("span",null,"集合负责人: ",-1)),X={style:{"margin-left":"16px"}},Y={class:"table-name"},Z={class:"table-info"},ee={class:"table-meta"},ae=U({__name:"CollectionDetail",setup(u){const x=j(),m=E(),f=_(!1),c=_({id:"",name:"",description:"",tables:[]}),g=_(1),d=_(9),C=V(()=>{const n=(g.value-1)*d.value,a=n+d.value;return c.value.tables.slice(n,a)}),I=async()=>{f.value=!0;try{const n=x.params.id,a=H.collections.find(v=>v.id===n);a?c.value=a:(h.error("未找到该场景"),m.back())}catch{h.error("获取数据失败")}finally{f.value=!1}},B=n=>{m.push({name:"TableDetail",params:{tableName:n.name},state:{table:{...n,theme:n.theme||""}}}).catch(a=>{console.error("路由跳转失败:",a),h.error("无法打开表详情")})};return R(()=>{I()}),(n,a)=>{const v=s("a-page-header"),i=s("a-tag"),k=s("a-space"),D=s("a-divider"),S=s("a-pagination"),z=s("a-typography-paragraph"),M=s("a-card"),N=s("a-col"),F=s("a-row"),T=s("a-spin");return y(),w("div",Q,[e(T,{loading:f.value,tip:"加载中..."},{default:t(()=>[e(v,{title:c.value.name,subtitle:c.value.description,onBack:a[0]||(a[0]=()=>b(m).back())},null,8,["title","subtitle"]),e(k,{align:"center",style:{margin:"16px 0"}},{default:t(()=>[e(b(K)),W,e(i,null,{default:t(()=>[r(l(c.value.owner||"未指定"),1)]),_:1}),p("span",X,"总表数: "+l(c.value.tables.length),1)]),_:1}),e(D),e(S,{current:g.value,"onUpdate:current":a[1]||(a[1]=o=>g.value=o),"page-size":d.value,"onUpdate:pageSize":a[2]||(a[2]=o=>d.value=o),total:c.value.tables.length,"show-total":"",style:{"margin-bottom":"16px"}},null,8,["current","page-size","total"]),e(F,{gutter:[16,16]},{default:t(()=>[(y(!0),w(J,null,L(C.value,o=>(y(),P(N,{key:o.name,span:8},{default:t(()=>[e(M,{class:"table-card",hoverable:"",onClick:te=>B(o)},{title:t(()=>[e(k,{align:"center"},{default:t(()=>[e(b($)),p("span",Y,l(o.name),1)]),_:2},1024)]),default:t(()=>[p("div",Z,[p("div",ee,[e(i,null,{default:t(()=>[r(l(o.type),1)]),_:2},1024),e(i,null,{default:t(()=>[r(l(o.category),1)]),_:2},1024),e(i,null,{default:t(()=>[r(l(o.domain),1)]),_:2},1024),e(i,null,{default:t(()=>[r(l(o.owner),1)]),_:2},1024)]),e(z,{ellipsis:{rows:2},type:"secondary",class:"table-description"},{default:t(()=>[r(l(o.description),1)]),_:2},1024)])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["loading"])])}}}),le=G(ae,[["__scopeId","data-v-52734892"]]);export{le as default};
