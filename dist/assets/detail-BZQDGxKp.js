import{_ as ue,r as i,a as w,b as oe,u as ne,d as k,w as a,e as o,J as se,o as S,f as e,i as p,S as C,j as n,h as F,I as de,t as r,g as ie,k as re,n as ce,l as pe,s as ve,v as _e}from"./index-CsgcdrY7.js";import{g as fe,a as me}from"./external-data-v1-C6QOjY8k.js";import{I as be}from"./index-D3r115Ij.js";import"./mock-Oqb5mk1v.js";const ge=I=>(ve("data-v-114e60e4"),I=I(),_e(),I),ye={class:"title-section"},Te={class:"data-title"},Ie={class:"tag-group"},Ve=ge(()=>F("h3",null,"表结构信息",-1)),xe={__name:"detail",setup(I){const L=ne();se();const V=i(me()),l=i({interfaceId:"",dataName:"",dataType:"",subType:"",supplier:"",description:"",price:0,inputParams:[],metadataData:[],manager:"",isFavorite:!1,apiUrl:"",targetTable:"",status:"",interfaceTag:"",onlineTime:"",updateFrequency:"",dataSource:"",requestMethod:"",headers:"",timeout:0,qpsLimit:0,storageInfo:[],metadataData:[],inputParams:[],outputParams:[],usageInfo:[],evaluationInfo:[]}),D=c=>({核验类:"arcoblue",评分类:"orangered",标签类:"green",名单类:"purple",价格评估类:"gold",身份核验类:"blue",信用评分:"orange",用户画像:"green",风险名单:"red",资产评估:"gold"})[c]||"gray",z=()=>{l.value.isFavorite=!l.value.isFavorite},g=i(!1),u=i({dataType:"",subType:"",supplier:"",price:0,description:"",storageTable:"",interfaceTag:""}),J=()=>{var c,t;u.value={dataType:l.value.dataType,subType:l.value.subType,supplier:l.value.supplier,price:l.value.price,description:l.value.description,storageTable:((t=(c=l.value.storageInfo)==null?void 0:c[0])==null?void 0:t.value)||"",interfaceTag:l.value.interfaceTag||""},g.value=!0},R=()=>{l.value.dataType=u.value.dataType,l.value.subType=u.value.subType,l.value.supplier=u.value.supplier,l.value.price=u.value.price,l.value.description=u.value.description,l.value.interfaceTag=u.value.interfaceTag,l.value.storageInfo.length>0&&(l.value.storageInfo[0].value=u.value.storageTable),g.value=!1},j=w(()=>[{label:"接口编号",value:l.value.interfaceId},{label:"数据分类",value:l.value.subType},{label:"供应商",value:l.value.supplier},{label:"单价",value:`${l.value.price}元/次`},{label:"管理人员",value:l.value.manager},{label:"上线时间",value:l.value.onlineTime},{label:"接口状态",value:l.value.status},{label:"接口标签",value:l.value.interfaceTag},{label:"更新频率",value:l.value.updateFrequency},{label:"数据来源",value:l.value.dataSource}]),H=w(()=>[{label:"请求方式",value:l.value.requestMethod},{label:"请求地址",value:l.value.apiUrl},{label:"Headers",value:l.value.headers},{label:"请求超时",value:`${l.value.timeout}秒`},{label:"QPS限制",value:`${l.value.qpsLimit}次/秒`},{label:"目标表",value:l.value.targetTable}]),O=w(()=>[{label:"落库表名",value:l.value.targetTable},{label:"数据格式",value:"JSON"},{label:"更新频率",value:l.value.updateFrequency},{label:"数据来源",value:l.value.dataSource}]),N=i([]),P=i([]),$=i([]),Q=i([]),A=i([]);oe(()=>{l.value=fe(L.params.id),N.value=l.value.outputParams||[],P.value=l.value.usageInfo||[],$.value=l.value.evaluationInfo||[]});const G=[{title:"字段名称",dataIndex:"field"},{title:"字段类型",dataIndex:"type"},{title:"字段说明",dataIndex:"comment"}],K=[{title:"参数名称",dataIndex:"name"},{title:"参数类型",dataIndex:"type"},{title:"是否必填",dataIndex:"required",render:({record:c})=>c.required?"是":"否"},{title:"参数说明",dataIndex:"description"}],W=[{title:"参数名称",dataIndex:"name"},{title:"参数类型",dataIndex:"type"},{title:"参数说明",dataIndex:"description"}];return(c,t)=>{const d=o("a-card"),f=o("a-col"),h=o("a-row"),v=o("a-option"),B=o("a-select"),_=o("a-form-item"),U=o("a-input"),X=o("a-input-number"),Y=o("a-textarea"),Z=o("a-form"),y=o("a-button"),x=o("a-space"),ee=o("a-drawer"),E=o("a-tag"),T=o("a-descriptions-item"),m=o("a-descriptions"),M=o("a-divider"),b=o("a-tab-pane"),q=o("a-table"),ae=o("a-tabs"),le=o("a-layout-content"),te=o("a-layout");return S(),k(te,null,{default:a(()=>[e(le,{class:"content"},{default:a(()=>[e(h,{gutter:16,class:"status-cards"},{default:a(()=>[e(f,{span:6},{default:a(()=>[e(d,{class:"status-card"},{default:a(()=>[e(p(C),{title:"注册中",value:V.value.registering},null,8,["value"])]),_:1})]),_:1}),e(f,{span:6},{default:a(()=>[e(d,{class:"status-card"},{default:a(()=>[e(p(C),{title:"待上线",value:V.value.pending},null,8,["value"])]),_:1})]),_:1}),e(f,{span:6},{default:a(()=>[e(d,{class:"status-card"},{default:a(()=>[e(p(C),{title:"已上线",value:V.value.online},null,8,["value"])]),_:1})]),_:1}),e(f,{span:6},{default:a(()=>[e(d,{class:"status-card"},{default:a(()=>[e(p(C),{title:"已下线",value:V.value.offline},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(ee,{visible:g.value,"onUpdate:visible":t[8]||(t[8]=s=>g.value=s),title:"编辑数据信息",width:"600px",footer:!0},{footer:a(()=>[e(x,null,{default:a(()=>[e(y,{onClick:t[7]||(t[7]=s=>g.value=!1)},{default:a(()=>[n("取消")]),_:1}),e(y,{type:"primary",onClick:R},{default:a(()=>[n("保存")]),_:1})]),_:1})]),default:a(()=>[e(Z,{model:u.value,layout:"vertical"},{default:a(()=>[e(_,{label:"数据种类"},{default:a(()=>[e(B,{modelValue:u.value.dataType,"onUpdate:modelValue":t[0]||(t[0]=s=>u.value.dataType=s),placeholder:"请选择数据种类"},{default:a(()=>[e(v,{value:"核验类"},{default:a(()=>[n("核验类")]),_:1}),e(v,{value:"评分类"},{default:a(()=>[n("评分类")]),_:1}),e(v,{value:"标签类"},{default:a(()=>[n("标签类")]),_:1}),e(v,{value:"名单类"},{default:a(()=>[n("名单类")]),_:1}),e(v,{value:"价格评估类"},{default:a(()=>[n("价格评估类")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"数据分类"},{default:a(()=>[e(U,{modelValue:u.value.subType,"onUpdate:modelValue":t[1]||(t[1]=s=>u.value.subType=s),placeholder:"请输入数据分类"},null,8,["modelValue"])]),_:1}),e(_,{label:"供应商"},{default:a(()=>[e(U,{modelValue:u.value.supplier,"onUpdate:modelValue":t[2]||(t[2]=s=>u.value.supplier=s),placeholder:"请输入供应商"},null,8,["modelValue"])]),_:1}),e(_,{label:"单价(元/次)"},{default:a(()=>[e(X,{modelValue:u.value.price,"onUpdate:modelValue":t[3]||(t[3]=s=>u.value.price=s),min:0},null,8,["modelValue"])]),_:1}),e(_,{label:"描述信息"},{default:a(()=>[e(Y,{modelValue:u.value.description,"onUpdate:modelValue":t[4]||(t[4]=s=>u.value.description=s),placeholder:"请输入描述信息"},null,8,["modelValue"])]),_:1}),e(_,{label:"落库表名"},{default:a(()=>[e(U,{modelValue:u.value.storageTable,"onUpdate:modelValue":t[5]||(t[5]=s=>u.value.storageTable=s),placeholder:"请输入落库表名"},null,8,["modelValue"])]),_:1}),e(_,{label:"接口标签"},{default:a(()=>[e(B,{modelValue:u.value.interfaceTag,"onUpdate:modelValue":t[6]||(t[6]=s=>u.value.interfaceTag=s),placeholder:"请选择接口标签"},{default:a(()=>[e(v,{value:"主接口"},{default:a(()=>[n("主接口")]),_:1}),e(v,{value:"备接口"},{default:a(()=>[n("备接口")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"]),e(d,{bordered:!1,class:"main-info"},{default:a(()=>[e(h,{gutter:24},{default:a(()=>[e(f,{span:18},{default:a(()=>[e(x,{direction:"vertical",fill:""},{default:a(()=>[F("div",ye,[e(x,{align:"center"},{default:a(()=>[e(y,{type:"text",onClick:t[9]||(t[9]=s=>c.$router.back())},{icon:a(()=>[e(p(de))]),_:1}),F("h2",Te,r(l.value.dataName),1),F("div",Ie,[e(E,{color:D(l.value.dataType)},{default:a(()=>[n(r(l.value.dataType),1)]),_:1},8,["color"]),l.value.subType?(S(),k(E,{key:0,color:D(l.value.subType)},{default:a(()=>[n(r(l.value.subType),1)]),_:1},8,["color"])):ie("",!0)])]),_:1})]),e(m,{column:2,size:"large",class:"basic-info"},{default:a(()=>[e(T,{label:"接口编号"},{default:a(()=>[n(r(l.value.interfaceId),1)]),_:1}),e(T,{label:"供应商"},{default:a(()=>[n(r(l.value.supplier),1)]),_:1}),e(T,{label:"单价"},{default:a(()=>[n(r(l.value.price)+"元/次",1)]),_:1}),e(T,{label:"管理人员"},{default:a(()=>[n(r(l.value.manager),1)]),_:1}),e(T,{label:"描述信息",span:2},{default:a(()=>[n(r(l.value.description||"暂无描述"),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(f,{span:6,class:"action-panel"},{default:a(()=>[e(x,null,{default:a(()=>[e(y,{type:"primary",onClick:J},{icon:a(()=>[e(p(re))]),default:a(()=>[n(" 编辑信息 ")]),_:1}),e(y,{type:"text",class:ce({"favorite-btn":!0,"is-favorite":l.value.isFavorite}),onClick:z},{icon:a(()=>[l.value.isFavorite?(S(),k(p(pe),{key:0})):(S(),k(p(be),{key:1}))]),default:a(()=>[n(" "+r(l.value.isFavorite?"取消收藏":"收藏"),1)]),_:1},8,["class"])]),_:1})]),_:1})]),_:1})]),_:1}),e(d,{bordered:!1,class:"main-card"},{default:a(()=>[e(ae,null,{default:a(()=>[e(b,{key:"1",title:"基本信息"},{default:a(()=>[e(d,{bordered:!1,class:"info-card"},{default:a(()=>[e(m,{column:2,data:j.value},null,8,["data"]),e(M,{style:{margin:"16px 0"}}),e(m,{column:2,data:H.value},null,8,["data"])]),_:1})]),_:1}),e(b,{key:"2",title:"落库信息"},{default:a(()=>[e(d,{bordered:!1,class:"info-card"},{default:a(()=>[e(m,{column:2,data:O.value},null,8,["data"]),e(M,{style:{margin:"16px 0"}}),Ve,e(q,{columns:G,data:A.value,pagination:!1},null,8,["data"])]),_:1})]),_:1}),e(b,{key:"3",title:"产品入参"},{default:a(()=>[e(d,{bordered:!1,class:"info-card"},{default:a(()=>[e(q,{columns:K,data:Q.value,pagination:!1},null,8,["data"])]),_:1})]),_:1}),e(b,{key:"4",title:"产品出参"},{default:a(()=>[e(d,{bordered:!1,class:"info-card"},{default:a(()=>[e(q,{columns:W,data:N.value,pagination:!1},null,8,["data"])]),_:1})]),_:1}),e(b,{key:"5",title:"调用及费用"},{default:a(()=>[e(d,{bordered:!1,class:"info-card"},{default:a(()=>[e(m,{column:2,data:P.value},null,8,["data"])]),_:1})]),_:1}),e(b,{key:"6",title:"变量评估"},{default:a(()=>[e(d,{bordered:!1,class:"info-card"},{default:a(()=>[e(m,{column:2,data:$.value},null,8,["data"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},Ue=ue(xe,[["__scopeId","data-v-114e60e4"]]);export{Ue as default};
