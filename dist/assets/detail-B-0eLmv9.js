import{_ as Y,r as d,a as w,b as Z,M as S,d as ee,w as a,e as t,u as ae,o as te,f as e,h as y,i as h,I as le,t as i,j as u,k as oe,s as ne,v as se}from"./index-CsgcdrY7.js";const ue=f=>(ne("data-v-7dbe1a85"),f=f(),se(),f),de={class:"title-section"},ie={class:"data-title"},re={class:"tag-group"},ce=ue(()=>y("h3",null,"字段信息",-1)),pe={__name:"detail",setup(f){const C=ae(),l=d({name:"个人基本信息",code:"BASIC_001",type:"基础信息",supplier:"征信服务商A",status:"正常",updateTime:"2024-01-08",description:"包含个人身份信息、职业信息、居住信息等基础数据项"}),q=n=>({正常:"green",异常:"red",维护中:"orange"})[n]||"gray",F=w(()=>[{label:"数据来源",value:"人行征信"},{label:"更新频率",value:"每日更新"},{label:"数据格式",value:"JSON"},{label:"接入方式",value:"API接口"}]),M=d([{label:"数据长度",value:"不限"},{label:"数据类型",value:"String"},{label:"是否必填",value:"是"},{label:"验证规则",value:"身份证号码格式"}]),B=[{title:"字段名称",dataIndex:"name"},{title:"字段类型",dataIndex:"type"},{title:"是否必填",dataIndex:"required"},{title:"描述",dataIndex:"description"}],D=[{name:"name",type:"String",required:"是",description:"姓名"},{name:"idCard",type:"String",required:"是",description:"身份证号"},{name:"occupation",type:"String",required:"否",description:"职业"}],E=d([{label:"调用次数",value:"12,345"},{label:"成功率",value:"99.9%"},{label:"平均耗时",value:"200ms"},{label:"最近调用",value:"2024-01-08 12:00:00"}]),N=d([{label:"数据质量",value:"优"},{label:"覆盖率",value:"95%"},{label:"准确率",value:"99%"},{label:"时效性",value:"实时"}]),m=d(!1),g=d(null),o=d({type:"",supplier:"",description:""}),R={type:[{required:!0,message:"请选择变量类型"}],supplier:[{required:!0,message:"请输入供应商"}]},T=()=>{o.value={type:l.value.type,supplier:l.value.supplier,description:l.value.description},m.value=!0},A=()=>{var n;m.value=!1,(n=g.value)==null||n.resetFields()},U=async()=>{var n;try{await((n=g.value)==null?void 0:n.validate()),console.log("保存编辑数据:",o.value),l.value={...l.value,type:o.value.type,supplier:o.value.supplier,description:o.value.description},S.success("保存成功"),m.value=!1}catch(s){console.error("表单验证失败:",s)}},O=w(()=>C.params.id);return Z(async()=>{try{console.log("获取数据详情:",O.value),await new Promise(n=>setTimeout(n,1e3))}catch{S.error("获取数据详情失败")}}),(n,s)=>{const V=t("a-button"),P=t("a-tag"),I=t("a-space"),p=t("a-descriptions-item"),_=t("a-descriptions"),k=t("a-col"),$=t("a-row"),r=t("a-card"),v=t("a-tab-pane"),j=t("a-divider"),z=t("a-table"),J=t("a-tabs"),L=t("a-layout-content"),b=t("a-option"),G=t("a-select"),x=t("a-form-item"),H=t("a-input"),K=t("a-textarea"),Q=t("a-form"),W=t("a-drawer"),X=t("a-layout");return te(),ee(X,null,{default:a(()=>[e(L,{class:"content"},{default:a(()=>[e(r,{bordered:!1,class:"main-info"},{default:a(()=>[e($,{gutter:24},{default:a(()=>[e(k,{span:18},{default:a(()=>[e(I,{direction:"vertical",fill:""},{default:a(()=>[y("div",de,[e(I,{align:"center"},{default:a(()=>[e(V,{type:"text",onClick:s[0]||(s[0]=c=>n.$router.back())},{icon:a(()=>[e(h(le))]),_:1}),y("h2",ie,i(l.value.name),1),y("div",re,[e(P,{color:q(l.value.status)},{default:a(()=>[u(i(l.value.status),1)]),_:1},8,["color"])])]),_:1})]),e(_,{column:2,size:"large",class:"basic-info"},{default:a(()=>[e(p,{label:"变量编号"},{default:a(()=>[u(i(l.value.code),1)]),_:1}),e(p,{label:"变量类型"},{default:a(()=>[u(i(l.value.type),1)]),_:1}),e(p,{label:"供应商"},{default:a(()=>[u(i(l.value.supplier),1)]),_:1}),e(p,{label:"更新时间"},{default:a(()=>[u(i(l.value.updateTime),1)]),_:1}),e(p,{label:"变量描述",span:2},{default:a(()=>[u(i(l.value.description),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(k,{span:6,class:"action-panel"},{default:a(()=>[e(I,null,{default:a(()=>[e(V,{type:"primary",onClick:T},{icon:a(()=>[e(h(oe))]),default:a(()=>[u(" 编辑信息 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(r,{bordered:!1,class:"main-card"},{default:a(()=>[e(J,null,{default:a(()=>[e(v,{key:"1",title:"基本信息"},{default:a(()=>[e(r,{bordered:!1,class:"info-card"},{default:a(()=>[e(_,{column:2,data:F.value},null,8,["data"])]),_:1})]),_:1}),e(v,{key:"2",title:"数据规则"},{default:a(()=>[e(r,{bordered:!1,class:"info-card"},{default:a(()=>[e(_,{column:2,data:M.value},null,8,["data"]),e(j,{style:{margin:"16px 0"}}),ce,e(z,{columns:B,data:D,pagination:!1})]),_:1})]),_:1}),e(v,{key:"3",title:"使用情况"},{default:a(()=>[e(r,{bordered:!1,class:"info-card"},{default:a(()=>[e(_,{column:2,data:E.value},null,8,["data"])]),_:1})]),_:1}),e(v,{key:"4",title:"评估报告"},{default:a(()=>[e(r,{bordered:!1,class:"info-card"},{default:a(()=>[e(_,{column:2,data:N.value},null,8,["data"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(W,{visible:m.value,onCancel:A,onOk:U,title:"编辑信息",width:"600px"},{default:a(()=>[e(Q,{model:o.value,ref_key:"editFormRef",ref:g,rules:R},{default:a(()=>[e(x,{field:"type",label:"变量类型",required:""},{default:a(()=>[e(G,{modelValue:o.value.type,"onUpdate:modelValue":s[1]||(s[1]=c=>o.value.type=c)},{default:a(()=>[e(b,{value:"基础信息"},{default:a(()=>[u("基础信息")]),_:1}),e(b,{value:"信贷记录"},{default:a(()=>[u("信贷记录")]),_:1}),e(b,{value:"还款记录"},{default:a(()=>[u("还款记录")]),_:1}),e(b,{value:"征信评分"},{default:a(()=>[u("征信评分")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(x,{field:"supplier",label:"供应商",required:""},{default:a(()=>[e(H,{modelValue:o.value.supplier,"onUpdate:modelValue":s[2]||(s[2]=c=>o.value.supplier=c),placeholder:"请输入供应商"},null,8,["modelValue"])]),_:1}),e(x,{field:"description",label:"变量描述"},{default:a(()=>[e(K,{modelValue:o.value.description,"onUpdate:modelValue":s[3]||(s[3]=c=>o.value.description=c),placeholder:"请输入变量描述"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])]),_:1})}}},fe=Y(pe,[["__scopeId","data-v-7dbe1a85"]]);export{fe as default};
