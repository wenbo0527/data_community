# 需求文档（v1.0）

## 1 产品定位
面向业务人员的数据门户：让业务找得到、看得懂、用得动全部数据资产

## 2 核心价值主张
| 维度   | 现状痛点                 | 平台解法                    | 业务价值              |
|--------|--------------------------|-----------------------------|----------------------|
| 发现   | 分散在7+系统，平均找数2.5h | 统一搜索+快速导览           | 提高数据查找效率    |
| 理解   | 字段含义靠口口相传       | 资产详情标准化+质量评分     | 提高数据理解效率      |
| 使用   | 重复建表、口径不一       | 注册即复用+指标口径集中治理 | 减少重复建设         |
| 治理   | 注册/变更/下线无闭环     | 资产全生命周期线上化        | 提高维护效率         |

## 3 目标用户画像
| 角色                   | 高频场景                             | 关键诉求                                 |
|------------------------|--------------------------------------|------------------------------------------|
| 业务分析师/运营/风控   | 日常跑数、策略迭代、风控模型、监控报表 | 快速定位指标/变量/外部数据，理解血缘与质量 |
| 数据开发/数据管理      | 注册/变更/下线资产，质量监控，权限管理 | 流程在线化、口径统一、减少答疑           |
| 数据科学家/算法工程师  | 特征工程、模型训练、A/B测试          | 快速发现高质量特征                       |
| 通用角色               | 权限申请、资产共享                   | 统一入口、权限透明                       |

## 4 功能需求

功能需求：
- 编号：FR - 发现模块 - 内容检索 - 统一搜索
- 模块：发现模块
- 父功能：内容检索
- 子功能：统一搜索
- 描述：提供数据资产搜索功能，包含搜索区域（支持高级搜索条件如数据类型/业务域/更新频率筛选、搜索历史）、结果展示区域（结果统计、结果类型切换选项卡、结果列表及空状态处理）
- 来源文件 + 行号：src/pages/discovery/search/index.vue L1-200

功能需求：
- 编号：FR - 发现模块 - 全量数据展示 - 数据地图
- 模块：发现模块
- 父功能：全量数据展示
- 子功能：数据地图
- 描述：提供数据资产可视化展示，包含常用表集合、核心业务流程、指标地图三个标签页，支持表集合管理和指标详情查看
- 来源文件 + 行号：src/pages/discovery/data-map/index.vue L1-200

功能需求：
- 编号：FR - 发现模块 - 资产概览 - 资产总览
- 模块：发现模块
- 父功能：资产概览
- 子功能：资产总览
- 描述：全面展示数据资产概况，包含统计概览卡片（数据表、外部数据、变量管理、标签地图统计）、资产关系图、主题域分布图表、数据增长趋势图表和资产管理功能模块
- 来源文件 + 行号：src/pages/discovery/asset-overview/index.vue L1-200

功能需求：
- 编号：FR - 发现模块 - 全量数据展示 - 表集合管理
- 模块：发现模块
- 父功能：全量数据展示
- 子功能：表集合管理
- 描述：提供表集合的创建、编辑、删除和收藏功能，支持分页展示和筛选
- 来源文件 + 行号：src/pages/discovery/data-map/components/TableCollectionGrid.vue L1-200

功能需求：
- 编号：FR - 发现模块 - 全量数据展示 - 指标地图
- 模块：发现模块
- 父功能：全量数据展示
- 子功能：指标地图
- 描述：以地铁图形式展示不同业务线（规模线、质量线）的指标层级关系，支持指标详情查看
- 来源文件 + 行号：src/pages/discovery/data-map/components/SubwayMap.vue L1-200

功能需求：
- 编号：FR - 发现模块 - 内容检索 - 缺失工单提交
- 模块：发现模块
- 父功能：内容检索
- 子功能：缺失工单提交
- 描述：提供缺失数据工单提交功能，支持选择缺失类型、填写描述和上传截图
- 来源文件 + 行号：src/pages/discovery/search/MissingTicketModal.vue L1-129

功能需求：
- 编号：FR - 发现模块 - 全量数据展示 - 全量数据浏览
- 模块：发现模块
- 父功能：全量数据展示
- 子功能：全量数据浏览
- 描述：展示企业全量数据资产，支持按业务线、层级筛选查看指标和数据表
- 来源文件 + 行号：src/pages/discovery/data-map/index.vue L1-200

功能需求：
- 编号：FR - 发现模块 - 资产 - 表管理
- 模块：发现模块
- 父功能：资产
- 子功能：表管理
- 描述：管理数据库表资产，包括表结构、字段信息、数据质量等，支持表的创建、编辑、删除和查询
- 来源文件 + 行号：src/pages/discovery/asset-management/table-management/index.vue L1-200

功能需求：
- 编号：FR - 发现模块 - 资产 - 外数管理
- 模块：发现模块
- 父功能：资产
- 子功能：外数管理
- 描述：管理外部数据源，包括API接口、文件数据、第三方数据库等，支持数据源配置、连接测试和数据同步
- 来源文件 + 行号：src/pages/discovery/asset-management/index.vue L1-200

功能需求：
- 编号：FR - 发现模块 - 资产 - 指标管理
- 模块：发现模块
- 父功能：资产
- 子功能：指标管理
- 描述：管理业务指标定义、计算规则、监控阈值等
- 来源文件 + 行号：src/pages/discovery/asset-management/index.vue L1-200

功能需求：
- 编号：FR - 发现模块 - 资产 - 资产批量管理
- 模块：发现模块
- 父功能：资产
- 子功能：资产批量管理
- 描述：批量导入、导出、更新资产信息，提高管理效率
- 来源文件 + 行号：src/pages/discovery/asset-management/index.vue L1-200

功能需求：
- 编号：FR - 发现模块 - 资产 - 外部数据采购注册
- 模块：发现模块
- 父功能：资产
- 子功能：外部数据采购注册
- 描述：注册外部数据采购项目，上传采购文件并关联数据产品，支持项目信息编辑和材料补充上传
- 来源文件 + 行号：src/pages/discovery/asset-management/external-purchase-register/index.vue L1-200

功能需求：
- 编号：FR - 发现模块 - 资产 - 征信变量管理
- 模块：发现模块
- 父功能：资产
- 子功能：征信变量管理
- 描述：提供征信变量的管理功能，包括变量的搜索、筛选、查看、编辑、删除、批量上传和模板下载，支持按变量名称、标签、分类、供应商进行筛选
- 来源文件 + 行号：src/pages/discovery/credit/index.vue L1-313

## 5 非功能需求

非功能需求：
- 编号：NFR - 全系统 - 性能
- 关联模块：全系统
- 条目：性能
- 描述：搜索功能实现了300ms防抖处理，优化搜索请求频率
- 来源文件 + 行号：src/pages/discovery/data-map/index.vue L72-75

非功能需求：
- 编号：NFR - 全系统 - 可用性
- 关联模块：全系统
- 条目：可用性
- 描述：各模块均实现了加载状态骨架屏、空状态提示和错误处理
- 来源文件 + 行号：src/pages/discovery/search/index.vue L4-10, src/pages/discovery/data-map/index.vue L4-10, src/pages/discovery/asset-overview/index.vue L38-57

非功能需求：
- 编号：NFR - 全系统 - 可维护性
- 关联模块：全系统
- 条目：可维护性
- 描述：组件化设计，将搜索、表格、指标地图等功能拆分为独立组件
- 来源文件 + 行号：src/pages/discovery/data-map/components/TableCollectionGrid.vue, src/pages/discovery/data-map/components/SubwayMap.vue

## 6 用户场景
| 场景故事             | 当前痛点                     | 平台解法                             | 期望反馈                     |
|----------------------|------------------------------|--------------------------------------|------------------------------|
| 风控专员找逾期数据   | 问5人跑3次SQL，字段不清      | “逾期”关键词一键搜索→质量评分→直接申请权限 | 查找时间从天级缩短到分钟级   |
| 产品经理做营销       | 不知哪些行为标签可用，重复埋点 | 指标地图+血缘图谱→直接复用           | 标签复用率↑70%               |
| 算法工程师找特征     | 不同团队表分散，共享靠脚本   | 特征仓库→质量评分→快速验证            | 模型迭代周期缩短50%          |
| 客户运营查画像       | 标签分散7系统，开8个页面     | 客户360统一视图→一键查询             | 查询时间缩短80%              |
| 风险模型调优         | 特征缺失、质量差             | 特征质量评分→血缘追溯→质量预警        | 模型稳定性显著提升           |
| 新员工培训           | 找数难、上手慢               | 运营大屏+技术大屏+质量监控           | 培训效率↑3倍                 |

## 7 附录
- 项目结构目录：/Users/mac/nis_mock/data_comunity/data_comunity/docs/key-project-docs/数据发现项目结构说明文档.md
- 代码索引：/Users/mac/nis_mock/data_comunity/src