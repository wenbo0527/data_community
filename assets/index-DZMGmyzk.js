import{_ as T,r as p,a as j,d as f,w as t,e as n,J as A,o as x,f as a,g as L,j as l,t as N,i as q,x as J,M as h}from"./index-CsgcdrY7.js";const U={__name:"index",setup(E){const i=A(),g=p(!1),c=p(""),y=[{title:"计划名称",dataIndex:"planName",slotName:"planName"},{title:"数据产品",dataIndex:"dataProduct"},{title:"信贷产品",dataIndex:"creditProduct"},{title:"场景名称",dataIndex:"sceneName"},{title:"启动日期",dataIndex:"startDate"},{title:"执行批次",dataIndex:"batchNo"},{title:"天数",dataIndex:"days"},{title:"期数",dataIndex:"periods"},{title:"创建人",dataIndex:"creator"},{title:"状态",slotName:"status"},{title:"操作",slotName:"operations",width:240,fixed:"right"}],d=p([{planName:"信用卡陪跑计划A",dataProduct:"信用卡数据产品A",creditProduct:"信用卡产品B",sceneName:"授信申请场景",startDate:"2024-01-01",batchNo:"15点、21点、23点",days:90,periods:3,creator:"张三",status:"已启动"},{planName:"消费贷陪跑计划B",dataProduct:"消费贷数据产品C",creditProduct:"消费贷产品D",sceneName:"支用申请场景",startDate:"2024-02-01",batchNo:"15点、21点、23点",days:30,periods:1,creator:"李四",status:"已完成"}]),v=j(()=>c.value?d.value.filter(e=>Object.values(e).some(s=>String(s).toLowerCase().includes(c.value.toLowerCase()))):d.value),I=e=>({已启动:"green",已完成:"blue"})[e]||"gray",k=e=>{c.value=e},C=()=>{i.push("/management/accompany/create")},b=e=>{i.push({path:"/management/accompany/result",query:{planName:e.planName}})},w=e=>{h.info(`添加备注：${e.planName}`)},D=e=>{h.success(`终止计划：${e.planName}`);const s=d.value.findIndex(r=>r.planName===e.planName);s!==-1&&(d.value[s].status="已完成")};return(e,s)=>{const r=n("a-input-search"),u=n("a-button"),_=n("a-space"),P=n("a-link"),V=n("a-tag"),S=n("a-popconfirm"),$=n("a-table"),z=n("a-card"),B=n("a-col"),M=n("a-row"),O=n("a-layout-content"),R=n("a-layout");return x(),f(R,null,{default:t(()=>[a(O,{class:"content"},{default:t(()=>[a(M,{gutter:[24,24]},{default:t(()=>[a(B,{span:24},{default:t(()=>[a(z,{title:"陪跑计划",bordered:!1},{extra:t(()=>[a(_,null,{default:t(()=>[a(r,{modelValue:c.value,"onUpdate:modelValue":s[0]||(s[0]=o=>c.value=o),placeholder:"搜索计划",style:{width:"200px"},onSearch:k},null,8,["modelValue"]),a(u,{type:"primary",onClick:C},{icon:t(()=>[a(q(J))]),default:t(()=>[l(" 新建计划 ")]),_:1})]),_:1})]),default:t(()=>[a($,{columns:y,data:v.value,pagination:{pageSize:10},loading:g.value},{planId:t(({record:o})=>[a(P,null,{default:t(()=>[l(N(o.planId),1)]),_:2},1024)]),status:t(({record:o})=>[a(V,{color:I(o.status)},{default:t(()=>[l(N(o.status),1)]),_:2},1032,["color"])]),operations:t(({record:o})=>[a(_,null,{default:t(()=>[a(u,{type:"text",size:"small",onClick:m=>b(o)},{default:t(()=>[l("查看结果")]),_:2},1032,["onClick"]),a(u,{type:"text",size:"small",onClick:m=>w(o)},{default:t(()=>[l("备注")]),_:2},1032,["onClick"]),o.status==="已启动"?(x(),f(S,{key:0,content:"确定要终止这个计划吗？",onOk:m=>D(o)},{default:t(()=>[a(u,{type:"text",size:"small",status:"danger"},{default:t(()=>[l("终止")]),_:1})]),_:2},1032,["onOk"])):L("",!0)]),_:2},1024)]),_:1},8,["data","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},G=T(U,[["__scopeId","data-v-793a7737"]]);export{G as default};
