import{_ as le,r as i,a as te,d as C,w as e,e as d,J as oe,o as f,f as a,c as E,g as q,j as t,i as x,z as M,t as c,F as de,m as ue,h as n,x as ne,s as se,v as re}from"./index-CsgcdrY7.js";import{g as $}from"./external-data-v1-C6QOjY8k.js";import{I as pe}from"./index-CrAnsjHE.js";import"./mock-Oqb5mk1v.js";const V=T=>(se("data-v-5eadda01"),T=T(),re(),T),_e={key:0,style:{"margin-top":"8px"}},ce={class:"card-header"},ie={class:"data-name"},fe={class:"card-content"},ve={class:"info-item"},me=V(()=>n("span",{class:"label"},"接口编号：",-1)),ye={class:"info-item"},be=V(()=>n("span",{class:"label"},"供应商：",-1)),ge={class:"info-item"},he=V(()=>n("span",{class:"label"},"状态：",-1)),Ce={class:"info-item"},Ve=V(()=>n("span",{class:"label"},"单价：",-1)),Te={class:"info-item"},we=V(()=>n("span",{class:"label"},"管理人员：",-1)),xe={__name:"index",setup(T){oe();const v=i(""),b=i(!1),g=i(!1),h=i(null),p=i({interfaceName:"",dataType:"",dataCategory:"",supplier:"",description:""}),r=i({dataType:void 0,dataCategory:void 0,supplier:""}),O=i([$("EXT001"),$("EXT002")]),P=te(()=>O.value.filter(u=>{const o=u.dataName&&u.dataName.toLowerCase().includes(v.value.toLowerCase())||u.interfaceId&&u.interfaceId.toLowerCase().includes(v.value.toLowerCase())||u.supplier&&u.supplier.toLowerCase().includes(v.value.toLowerCase()),m=(!r.value.dataType||r.value.dataType==="不限"||u.dataType===r.value.dataType)&&(!r.value.dataCategory||r.value.dataCategory==="不限"||u.subType===r.value.dataCategory)&&(!r.value.supplier||u.supplier===r.value.supplier);return o&&m})),N=u=>({核验类:"arcoblue",评分类:"orangered",标签类:"green",名单类:"purple",价格评估类:"gold"})[u]||"gray",X=u=>{v.value=u},j=()=>{console.log("提交表单:",p.value),b.value=!1},z=()=>{b.value=!1},A=()=>{if(!h.value){Message.error("请先上传文件");return}console.log("批量提交文件:",h.value),g.value=!1},J=()=>{g.value=!1},R=u=>{h.value=u};return(u,o)=>{const m=d("a-button"),G=d("a-upload"),_=d("a-form-item"),k=d("a-form"),S=d("a-modal"),I=d("a-input"),s=d("a-option"),U=d("a-select"),H=d("a-textarea"),K=d("a-input-search"),F=d("a-space"),y=d("a-radio"),Q=d("a-radio-group"),W=d("router-link"),w=d("a-tag"),L=d("a-card"),B=d("a-col"),D=d("a-row"),Y=d("a-tab-pane"),Z=d("a-tabs"),ee=d("a-layout-content"),ae=d("a-layout");return f(),C(ae,null,{default:e(()=>[a(ee,{class:"content"},{default:e(()=>[a(Z,{"default-active-key":"1",type:"rounded"},{default:e(()=>[a(Y,{key:"1",title:"产品页面"},{default:e(()=>[a(S,{visible:b.value,"onUpdate:visible":o[6]||(o[6]=l=>b.value=l),title:"新建数据产品",width:"600px","mask-closable":!1,onOk:j,onCancel:z},{default:e(()=>[a(S,{visible:g.value,"onUpdate:visible":o[0]||(o[0]=l=>g.value=l),title:"批量变更数据",width:"600px","mask-closable":!1,onOk:A,onCancel:J},{default:e(()=>[a(k,{model:u.batchForm,layout:"vertical"},{default:e(()=>[a(_,{label:"上传文件",required:""},{default:e(()=>[a(G,{"show-file-list":!1,onChange:R},{"upload-button":e(()=>[a(m,{type:"outline"},{icon:e(()=>[a(x(M))]),default:e(()=>[t(" 点击上传 ")]),_:1})]),_:1}),h.value?(f(),E("div",_e," 已选择: "+c(h.value.name),1)):q("",!0)]),_:1}),a(_,{label:"模板下载"},{default:e(()=>[a(m,{type:"text",onClick:u.downloadTemplate},{icon:e(()=>[a(x(pe))]),default:e(()=>[t(" 下载模板 ")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"]),a(k,{model:p.value,layout:"vertical"},{default:e(()=>[a(_,{field:"interfaceName",label:"接口名称",required:""},{default:e(()=>[a(I,{modelValue:p.value.interfaceName,"onUpdate:modelValue":o[1]||(o[1]=l=>p.value.interfaceName=l),placeholder:"请输入接口名称"},null,8,["modelValue"])]),_:1}),a(_,{field:"dataType",label:"数源种类",required:""},{default:e(()=>[a(U,{modelValue:p.value.dataType,"onUpdate:modelValue":o[2]||(o[2]=l=>p.value.dataType=l),placeholder:"请选择数源种类"},{default:e(()=>[a(s,{value:"核验类"},{default:e(()=>[t("核验类")]),_:1}),a(s,{value:"评分类"},{default:e(()=>[t("评分类")]),_:1}),a(s,{value:"标签类"},{default:e(()=>[t("标签类")]),_:1}),a(s,{value:"名单类"},{default:e(()=>[t("名单类")]),_:1}),a(s,{value:"价格评估类"},{default:e(()=>[t("价格评估类")]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(_,{field:"dataCategory",label:"分类",required:""},{default:e(()=>[a(U,{modelValue:p.value.dataCategory,"onUpdate:modelValue":o[3]||(o[3]=l=>p.value.dataCategory=l),placeholder:"请选择分类"},{default:e(()=>[a(s,{value:"身份核验类"},{default:e(()=>[t("身份核验类")]),_:1}),a(s,{value:"信用评分"},{default:e(()=>[t("信用评分")]),_:1}),a(s,{value:"用户画像"},{default:e(()=>[t("用户画像")]),_:1}),a(s,{value:"风险名单"},{default:e(()=>[t("风险名单")]),_:1}),a(s,{value:"资产评估"},{default:e(()=>[t("资产评估")]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(_,{field:"supplier",label:"供应商"},{default:e(()=>[a(I,{modelValue:p.value.supplier,"onUpdate:modelValue":o[4]||(o[4]=l=>p.value.supplier=l),placeholder:"请输入供应商"},null,8,["modelValue"])]),_:1}),a(_,{field:"description",label:"描述"},{default:e(()=>[a(H,{modelValue:p.value.description,"onUpdate:modelValue":o[5]||(o[5]=l=>p.value.description=l),placeholder:"请输入描述"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"]),a(D,{gutter:[24,24]},{default:e(()=>[a(B,{span:24},{default:e(()=>[a(L,{title:"外部数据v1",bordered:!1},{extra:e(()=>[a(F,null,{default:e(()=>[a(m,{type:"primary",onClick:o[7]||(o[7]=l=>b.value=!0)},{icon:e(()=>[a(x(ne))]),default:e(()=>[t(" 新增产品 ")]),_:1}),a(m,{type:"primary",onClick:o[8]||(o[8]=l=>g.value=!0)},{icon:e(()=>[a(x(M))]),default:e(()=>[t(" 批量变更 ")]),_:1}),a(K,{modelValue:v.value,"onUpdate:modelValue":o[9]||(o[9]=l=>v.value=l),placeholder:"搜索数据",style:{width:"200px"},onSearch:X},null,8,["modelValue"])]),_:1})]),default:e(()=>[a(k,{model:r.value,layout:"inline",class:"filter-form"},{default:e(()=>[a(_,{field:"dataType",label:"数源种类"},{default:e(()=>[a(Q,{modelValue:r.value.dataType,"onUpdate:modelValue":o[10]||(o[10]=l=>r.value.dataType=l),type:"button",style:{"margin-bottom":"8px"}},{default:e(()=>[a(y,{value:"不限"},{default:e(()=>[t("不限")]),_:1}),a(y,{value:"核验类"},{default:e(()=>[t("核验类")]),_:1}),a(y,{value:"评分类"},{default:e(()=>[t("评分类")]),_:1}),a(y,{value:"标签类"},{default:e(()=>[t("标签类")]),_:1}),a(y,{value:"名单类"},{default:e(()=>[t("名单类")]),_:1}),a(y,{value:"价格评估类"},{default:e(()=>[t("价格评估类")]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(_,{field:"dataCategory",label:"数源分类"},{default:e(()=>[a(U,{modelValue:r.value.dataCategory,"onUpdate:modelValue":o[11]||(o[11]=l=>r.value.dataCategory=l),placeholder:"不限",style:{width:"120px"},"allow-clear":""},{default:e(()=>[a(s,{value:"不限"},{default:e(()=>[t("不限")]),_:1}),a(s,{value:"身份核验类"},{default:e(()=>[t("身份核验类")]),_:1}),a(s,{value:"信用评分"},{default:e(()=>[t("信用评分")]),_:1}),a(s,{value:"用户画像"},{default:e(()=>[t("用户画像")]),_:1}),a(s,{value:"风险名单"},{default:e(()=>[t("风险名单")]),_:1}),a(s,{value:"资产评估"},{default:e(()=>[t("资产评估")]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(_,{field:"supplier",label:"供应商"},{default:e(()=>[a(I,{modelValue:r.value.supplier,"onUpdate:modelValue":o[12]||(o[12]=l=>r.value.supplier=l),placeholder:"供应商A",style:{width:"200px"},"allow-clear":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),a(D,{gutter:[16,16]},{default:e(()=>[(f(!0),E(de,null,ue(P.value,l=>(f(),C(B,{xs:24,sm:12,md:8,lg:6,key:l.interfaceId},{default:e(()=>[a(L,{bordered:!0,class:"data-card",hoverable:""},{title:e(()=>[n("div",ce,[n("span",ie,[a(W,{to:`/external-data-v1/detail/${l.interfaceId}`},{default:e(()=>[t(c(l.dataName),1)]),_:2},1032,["to"])]),a(F,null,{default:e(()=>[a(w,{color:N(l.dataType)},{default:e(()=>[t(c(l.dataType),1)]),_:2},1032,["color"]),l.subType?(f(),C(w,{key:0,color:N(l.subType)},{default:e(()=>[t(c(l.subType),1)]),_:2},1032,["color"])):q("",!0),l.isPrimary?(f(),C(w,{key:1,color:"green"},{default:e(()=>[t(" 主接口 ")]),_:1})):(f(),C(w,{key:2,color:"orange"},{default:e(()=>[t(" 备接口 ")]),_:1}))]),_:2},1024)])]),default:e(()=>[n("div",fe,[n("div",ve,[me,n("span",null,c(l.interfaceId),1)]),n("div",ye,[be,n("span",null,c(l.supplier),1)]),n("div",ge,[he,n("span",null,c(l.status),1)]),n("div",Ce,[Ve,n("span",null,c(l.price)+"元/次",1)]),n("div",Te,[we,n("span",null,c(l.manager),1)])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},Se=le(xe,[["__scopeId","data-v-5eadda01"]]);export{Se as default};
