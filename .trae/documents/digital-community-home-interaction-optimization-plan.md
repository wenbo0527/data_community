# 数字社区首页交互优化方案

## 1. 背景与目标
基于对当前首页 (`src/pages/login/home.vue`) 及架构图组件 (`ArchitectureChart.vue`) 的代码评估，当前页面存在业务流线割裂、交互深度不足、视觉焦点分散等问题。本方案旨在通过重构布局、增强交互和统一视觉规范，提升产品的业务关联性与交互体验。

## 2. 总体设计原则
*   **业务流线优先**：建立“核心数据(洞察) → 架构图(流程) → 通知/操作(行动)”的纵向视觉流。
*   **交互渐进披露**：保持界面整洁，利用 Hover、Click 等交互按需展示复杂信息（如折线图、功能按钮）。
*   **组件化与复用**：将静态图片转化为可交互的 Vue 组件，确保可维护性。

## 3. 详细优化方案

### 3.1 布局重构 (Layout Restructuring)
**目标**：打破左右割裂，构建以业务流为核心的“T型”或“F型”视觉布局。

**布局网格规划 (Grid System)**：
采用 24 栅格系统，分为上下两层（Rows），第二层分为左右两栏（Columns）。

```text
[ 顶部导航栏 (Header) ]
-----------------------------------------------------------------------
[ Row 1: 核心数据层 (Span 24) ] - 视觉焦点 Level 1
+---------------------------------------------------------------------+
| [ 社区数据站 (Community Data Station) ]                             |
| 卡片 1 | 卡片 2 | 卡片 3 | 卡片 4 (均匀分布，通过 Flex 实现)          |
+---------------------------------------------------------------------+

[ Row 2: 业务交互层 (Gutter 20) ] - 视觉焦点 Level 2 & 3
+----------------------------------------+  +-------------------------+
| Column Left (Span 17)                  |  | Column Right (Span 7)   |
| 业务流程区                              |  | 操作与通知区             |
|                                        |  |                         |
| +------------------------------------+ |  | +---------------------+ |
| | [ 社区架构图 (Architecture Chart) ] | |  | | [ 身份简报 (User) ] | |
| | (交互式 SVG，承接数据逻辑)          | |  | +---------------------+ |
| |                                    | |  |                         |
| |                                    | |  | +---------------------+ |
| |                                    | |  | | [ 快速通道 (Quick) ]| |
| |                                    | |  | | (业务操作入口)      | |
| |                                    | |  | +---------------------+ |
| |                                    | |  |                         |
| |                                    | |  | +---------------------+ |
| +------------------------------------+ |  | | [ 通知公告 (Notice)]| |
|                                        |  | | (待办/提醒/联动)    | |
|                                        |  | +---------------------+ |
|                                        |  |                         |
|                                        |  | +---------------------+ |
|                                        |  | | [ 加油站 (Links) ]  | |
|                                        |  | +---------------------+ |
+----------------------------------------+  +-------------------------+
```

**组件位置迁移对照表**：

| 组件名称 | 原位置 | **新位置** | 布局逻辑说明 |
| :--- | :--- | :--- | :--- |
| **社区数据站** | 右侧 Span 18 (上) | **Row 1 (Span 24)** | 置顶通栏。核心业务结果最先映入眼帘，确立第一视觉重心。 |
| **社区架构图** | 右侧 Span 18 (中) | **Row 2 Left (Span 17)** | 占据左侧主视觉区。作为“数据”的下钻与“流程”的承载体，需足够宽度展示细节。 |
| **身份信息** | 左侧 Span 6 (上) | **Row 2 Right (Top)** | 移至右侧栏顶部。作为辅助信息，不应占据左侧黄金位置，简化为紧凑卡片。 |
| **快速通道** | 左侧 Span 6 (中) | **Row 2 Right (Middle)** | 移至右侧栏，紧邻“通知公告”。实现“看到通知 -> 立即操作”的短路径联动。 |
| **通知公告** | 右侧 Span 18 (下) | **Row 2 Right (Bottom)** | 移至右侧栏。作为业务提醒，与快速通道形成“操作闭环”。 |
| **社区加油站** | 左侧 Span 6 (下) | **Row 2 Right (Footer)** | 移至右侧栏底部。低频资源链接，作为补充内容。 |

**布局代码实现建议**：
*   使用 `<a-row>` 包裹 `<a-col>` 实现栅格。
*   Row 1: `<a-col :span="24">`
*   Row 2: `<a-col :span="17">` (左) + `<a-col :span="7">` (右)。
*   利用 CSS Grid 或 Flexbox 确保右侧栏各卡片高度自适应或对齐。

### 3.2 架构图交互化 (Interactive Architecture Chart)
**目标**：废弃静态 SVG 图片，实现基于业务模块的交互导航。

*   **现状**：`ArchitectureChart.vue` 仅展示 `/2.5d.svg` 图片。
*   **优化方案**：
    1.  **SVG 组件化**：将架构图重绘为 SVG 代码或使用 Canvas (如 AntV X6 简化版) 实现。
    2.  **交互定义**：
        *   **Hover**：高亮对应模块（如“数据接入”），显示简要状态（如“运行中”）。
        *   **Click**：弹出操作菜单（Popover），提供“立即上传”、“查看日志”等快捷入口。
    3.  **状态映射**：支持从后端获取各模块健康度，动态改变模块颜色（红/绿/黄）。

**技术选型**：
*   方案 A：Vue 组件内嵌 SVG 代码，通过 `v-bind` 控制 `fill` 颜色。
*   方案 B：使用 absolute positioning 的透明 `div` 覆盖在图片上作为热区（成本低，但体验略差）。
*   **推荐方案**：方案 A，具备最佳的交互细腻度和扩展性。

### 3.3 数据洞察增强 (Data Insight Enhancement)
**目标**：提供“不跳转即可看趋势”的能力。

*   **现状**：仅展示数值和涨跌幅。
*   **优化方案**：
    1.  **悬浮提示**：给指标卡片增加 Tooltip，“点击查看近 7 日趋势”。
    2.  **迷你图表**：点击卡片展开或在卡片底部嵌入 ECharts Sparkline（迷你折线图）。
    3.  **筛选交互**：点击变化率（如 +2.3%），高亮同类变化趋势的指标。

### 3.4 视觉与规范统一 (Visual & Standardization)
**目标**：提升专业感与一致性。

*   **规范定义**：
    *   **圆角**：统一为 `8px`。
    *   **间距**：模块间 `20px`，内部 `12px`。
    *   **字号**：标题 `16px` (Bold)，子标题 `14px` (Regular)，辅助文本 `12px` (Gray)。
    *   **颜色**：主色 `#165DFF`，核心数值 `#1D2129` (加粗)。
*   **实施**：
    *   在 `home.vue` 中定义 CSS 变量或 Scoped CSS 类。
    *   去除行内样式，统一使用 CSS 类管理。

### 3.5 效率与联动优化 (Efficiency & Linkage)
**目标**：缩短操作路径。

*   **优化方案**：
    1.  **通知一键处理**：在“待办类”通知列表右侧增加操作按钮（如“审批”、“查看”），点击直接跳转目标页面，跳过详情弹窗。
    2.  **空状态优化**：快速通道的“未配置”状态改为虚线边框的“+”号，降低视觉干扰。

## 4. 实施路径 (Roadmap)

| 阶段 | 任务重点 | 关键产出 |
| :--- | :--- | :--- |
| **Phase 1: 结构重组** | 修改 Grid 布局，确立视觉流 | 重构后的 `home.vue` 布局结构 |
| **Phase 2: 核心交互** | 重写 `ArchitectureChart` | 可交互的 SVG 架构图组件 |
| **Phase 3: 数据增强** | 引入 ECharts 迷你图 | 支持展开/悬浮查看趋势的指标卡片 |
| **Phase 4: 视觉精修** | 统一圆角、间距、字体 | 符合规范的 CSS 样式表 |
