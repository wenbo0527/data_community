# 数据标准子应用交互设计方案

## 1. 概述
在“数据管理”模块下新增“数据标准”子应用，构建企业级数据标准体系。系统包含四个核心管理模块：
1.  **数据标准 (Data Standards)**：业务与技术结合的核心标准定义。
2.  **数据域 (Data Domains)**：通用的数据类型与格式约束模版。
3.  **标准代码 (Standard Codes)**：统一的枚举值和码表管理。
4.  **标准单词 (Standard Words)**：命名规范的基础词根库。

## 2. 模块关系图
各模块之间存在紧密的引用与支撑关系：

*   **数据标准** 引用 **数据域**：
    *   选择“域”后，自动继承域定义的“数据类型”、“长度”、“精度”等技术属性，确保技术规范的一致性。
*   **数据标准** 引用 **标准代码**：
    *   当标准属性为代码类时，关联“标准代码”模块，规范取值范围。
*   **数据标准** 引用 **标准单词**：
    *   通过“词素分析”功能，从“标准单词”库中选择词根，自动生成标准的“英文全称”和“英文简称”，确保命名规范。
*   **数据域** 引用 **标准代码**：
    *   数据域本身也可以定义为代码类型，关联标准代码。

## 3. 菜单结构
在 `src/config/menuConfig.js` 的 `management` 节点下新增 `data-standard` 分组。

**层级示意：**
- 数据管理 (Management)
  - ...现有模块
  - **数据标准 (Data Standard)**
    - **数据标准管理 (Standards)**
    - **数据域管理 (Domains)**
    - **标准代码管理 (Codes)**
    - **标准单词管理 (Words)**

## 4. 模块详细设计

### A. 数据标准 (Data Standards)
核心模块，用于定义详细的数据标准信息。

#### 核心字段定义
| 分类 | 字段名称 | 英文标识 | 说明 |
| :--- | :--- | :--- | :--- |
| **基础信息** | **标准编号** | Standard No | 唯一标识，自动生成或手动录入。 |
| | **主题** | Subject | 所属业务主题。 |
| | **一级分类** | Category L1 | 标准的一级分类。 |
| | **二级分类** | Category L2 | 标准的二级分类。 |
| | **归口管理部门** | Department | 负责维护该标准的部门。 |
| **命名规范** | **中文名称** | Chinese Name | 标准的中文名称。 |
| | **英文全称** | English Name | 自动生成或手动录入。 |
| | **英文简称** | English Abbr | 通常作为字段名使用。 |
| | **词素分析** | Morpheme Analysis | **交互字段**。选择标准单词组合，生成英文名称/简称。 |
| **业务属性** | **业务定义/业务规则** | Definition/Rules | 详细的业务含义及约束规则。 |
| | **标准来源** | Source | 如：国标、行标、企标。 |
| | **标准依据** | Basis | 具体的制度或文档依据。 |
| **技术属性** | **域** | Domain | **关联字段**。选择已定义的“数据域”。 |
| | **数据类型** | Data Type | 如 VARCHAR, INT。若选了域，可自动回显。 |
| | **业务数据类型** | Business Data Type | 如 金额, 账号。若选了域，可自动回显。 |
| | **长度** | Length | 存储长度。 |
| | **精度** | Precision | 小数位精度。 |
| **代码属性** | **是否代码** | Is Code | 开关。 |
| | **标准代码编号** | Standard Code No | **关联字段**。当“是否代码”为是时必填，选择标准代码。 |
| | **标准代码中文名称** | Standard Code Name | 选择代码编号后自动回显。 |

#### 交互逻辑
1.  **词素分析与命名生成**：
    *   用户在“词素分析”字段点击选择/输入中文关键词。
    *   系统在“标准单词”库中检索对应词根。
    *   选中词根后，系统根据词根的“英文名称”拼接生成“英文全称”，根据“英文缩写”拼接生成“英文简称”。
2.  **域引用**：
    *   用户选择“域”后，系统自动填充“数据类型”、“业务数据类型”、“长度”、“精度”。
    *   用户允许覆盖修改这些自动填充的值（可选配置）。
3.  **代码关联**：
    *   开启“是否代码”开关后，“标准代码编号”变为必填项，支持弹窗选择“标准代码”模块的数据。

---

### B. 数据域 (Data Domains)
作为技术属性的模版，供数据标准引用。

#### 核心字段定义
*   **域名称/编号**: 唯一标识（如 `Amount_18_2`）。
*   **业务数据类型**: 描述数据的业务属性（如：金额）。
*   **逻辑数据类型**: 技术类型（如：DECIMAL）。
*   **长度**: 默认长度。
*   **精度**: 默认精度。
*   **是否代码**: 默认是否关联代码。
*   **标准代码编号**: 关联的默认标准代码。
*   **域描述**: 说明。

---

### C. 标准代码 (Standard Codes)
管理枚举值和字典项。

#### 核心字段定义
*   **基础信息**: 主题、代码名称、标准代码编号、来源。
*   **码值列表 (Sub-list)**:
    *   **码值**: 具体的枚举值（如 `0`, `1`）。
    *   **码意**: 含义（如 `否`, `是`）。
    *   **其他**: 备注。

#### 交互逻辑
*   采用主子表形式，点击代码行可展开或跳转查看具体的码值列表。

---

### D. 标准单词 (Standard Words)
命名规范的基础。

#### 核心字段定义
*   **单词中文名称**: 如“账户”。
*   **单词英文名称**: 如“Account”。
*   **单词英文缩写**: 如 `ACCT`。
*   **词性/分类**: 标识是否为修饰词、类别词（Class Word）。
*   **同义词**: 关联词汇。

#### 交互逻辑
*   **查重校验**: 新增单词时，校验英文缩写是否已存在，保证命名唯一性。

## 5. 路由配置建议 (Updated)
```javascript
{
  path: 'data-standard',
  name: 'DataStandard',
  meta: { title: '数据标准' },
  children: [
    {
      path: 'standards',
      name: 'Standards',
      component: () => import('@/pages/management/data-standard/standards/index.vue'),
      meta: { title: '数据标准管理' }
    },
    {
      path: 'domains',
      name: 'DataDomains',
      component: () => import('@/pages/management/data-standard/domains/index.vue'),
      meta: { title: '数据域管理' }
    },
    {
      path: 'codes',
      name: 'StandardCodes',
      component: () => import('@/pages/management/data-standard/codes/index.vue'),
      meta: { title: '标准代码管理' }
    },
    {
      path: 'words',
      name: 'StandardWords',
      component: () => import('@/pages/management/data-standard/words/index.vue'),
      meta: { title: '标准单词管理' }
    }
  ]
}
```
