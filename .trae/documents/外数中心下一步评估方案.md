# 外数中心下一步评估方案

基于《外数评估模块详细产品设计文档》《外部数据服务模块详细产品设计文档》《预算管理模块详细产品设计文档》，梳理外数中心（评估/服务/预算）近期评估目标、范围、方法与验收标准，并形成迭代阶段的评估计划。

## 1. 评估目标
- 提升评估中心的报告覆盖率与质量度量准确性（>95%）。
- 打通服务申请→任务→结果的闭环，并验证任务状态流转的可靠性。
- 优化预算监控指标与预警模型，确保关键预警准确率>95%。
- 建立统一的指标采集与Mock校验机制，保障前后端接口一致性。

## 2. 评估范围
- 引入评估：报告列表、详情、模板与审批（含多维评分）。
- 监控评估：成本、调用、性能、查得率、稳定性五类面板与趋势。
- 持续评估：手工/自动任务的配置、执行与结果归档。
- 服务申请闭环：申请配置→任务创建→状态跟踪→结果展示→下载。
- 预算监控与预警：燃尽、执行率、偏差、阈值规则与告警列表。

## 3. 评估模型与方法
- 质量评估（完整性/准确性/及时性/一致性）：按文档权重生成综合质量评分，构造时间序列趋势与异常检测。
- 价值评估（业务/技术/战略）：建立多因子加权模型，核验ROI计算与预测一致性。
- 风险评估（合规/安全/供应商/业务）：采用“最高风险优先”法（max 模型）并验证分级与处置建议可用性。
- 预算评估（展示/监控/预警）：核验预算执行率、偏差率、余额阈值与异常波动预警，测试可视化正确性与阈值策略。
- 服务评估（流程/性能）：测量服务申请响应、任务创建与状态更新时间，验证异步任务处理与通知提示。

## 4. 指标与度量
- 报告覆盖率：已生成/所需报告总数（目标>90%）。
- 评估准确率：模型评分与人工基准的吻合度（目标>95%）。
- 任务成功率：任务执行成功数/总任务数（目标>95%）。
- 查询响应时间：<500ms；页面加载时间：<2s；图表渲染时间：<1s。
- 预警准确率：>95%；误报率：<5%。

## 5. 数据与接口校验
- 评估中心接口：`/api/external-data-evaluation/list`、`/detail/:id`、`/create`、`/publish/:id`、`/products`。
- 服务任务接口：`getTasks`、`getTaskDetail`、`createTask`、`updateTaskProgress`（源：`src/api/external/task.ts`）。
- 预算监控接口：燃尽与预警（`/api/external-data/burndown`、`/api/external-data/warning`），结合现有 store 与图表组件核验。
- 校验方法：
  - Mock一致性检查（字段完整性、类型匹配、可选字段兜底）。
  - 端到端验证（页面→store→接口→渲染→交互）。
  - 回归用例：分页、筛选、详情弹窗、图表维度切换、阈值配置、任务状态变更。

## 6. 测试用例与验收标准
- 引入评估列表与详情：
  - 条件查询与分页准确展示，点击查看详情字段完整。
  - 报告状态流转（草稿→发布→归档）前端可见。
- 服务申请与任务：
  - 创建任务后任务列表可见，状态为“进行中”，进度更新后状态切换为“已完成”。
  - 失败任务展示失败原因，允许重试。
- 预算监控与预警：
  - 燃尽图与累计图切换正确；维度（月/季/年）切换正确。
  - 预警规则命中与列表展示一致；阈值调整后效果生效。
- 性能与稳定性：
  - 页面关键操作响应<500ms；无报错与死链；兼容基本路由导航。

## 7. 迭代评估计划（按里程碑）
- 里程碑M1（已完成基础增强）：
  - 档案统计与跳转；引入评估列表与详情接入。
  - 验收：页面渲染正确，基础交互与分页通过。
- 里程碑M2（评估中心增强）：
  - 报告模型统一、任务创建与流程化；质量/价值/风险维度的基础评分表与图表。
  - 验收：报告生成与发布；评分计算与趋势展示；任务闭环验证。
- 里程碑M3（服务与监控加强）：
  - 服务申请与任务看板打通；监控中心完善图表与阈值策略；预警列表与处置记录。
  - 验收：任务分类筛选、进度更新与结果查看；阈值命中正确、预警处置流可用。
- 里程碑M4（档案深化与联动）：
  - 档案实体完善（产品/接口/供应商）；与评估与监控联动，形成360度视图。
  - 验收：档案详情联动展示最近评估与监控指标；界面统一风格与性能达标。

## 8. 风险与对策
- Mock与页面字段不一致：建立字段映射与兜底渲染，增加类型校验。
- 任务状态异步更新：引入轮询或事件推送的统一适配层，前端状态机保证一致性。
- 图表性能与精度：数据量大时增加抽样与聚合策略，开启虚拟滚动与懒加载。
- 预警阈值误设：默认安全阈值并提供提示与回滚设置。

## 9. 结论
本方案明确了评估目标、范围、模型、接口与验收标准，配合里程碑计划可在短周期内完成核心能力的评估与落地验证，为后续全面实施提供可靠依据。

