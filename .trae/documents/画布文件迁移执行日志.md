# 画布文件迁移执行日志

## 迁移进度

### 阶段1: 目录结构创建
- [x] 创建components子目录
- [x] 创建composables子目录  
- [x] 创建utils子目录

### 阶段2: Utils文件迁移（基础工具）
- [x] 配置相关文件迁移
- [x] 管理器文件迁移
- [x] 坐标系统文件迁移
- [x] 画布工具文件迁移
- [x] coordinate-refactor整个目录迁移

### 阶段3: Composables文件迁移（组合式函数）
- [x] 布局相关composables迁移
- [x] 管理器相关composables迁移
- [x] 画布操作相关composables迁移

### 阶段4: Components文件迁移（组件）
- [x] 部分画布相关组件迁移（canvas/子目录）
- [x] 部分工作流相关组件迁移（workflow/子目录）
- [ ] 节点配置抽屉组件重新分类
- [ ] workflow-editor组件完整迁移

### 阶段5: 文件清理和重新分类
- [ ] 清理重复文件
- [ ] 重新分类根目录下的工具文件
- [ ] 更新import路径
- [ ] 更新相对路径引用

### 阶段6: 测试验证
- [ ] 单元测试验证
- [ ] 集成测试验证
- [ ] 功能测试验证

## 执行记录

### 2024-12-19 开始迁移

#### 步骤1: 创建目录结构
正在创建详细的子目录结构...

#### 发现的需要迁移的文件清单:

**从 src/components 需要迁移的文件:**
- CanvasManualControls.vue → components/canvas/
- ConnectionContextMenu.vue → components/canvas/ (已存在)
- FlowNode.vue → components/nodes/
- NodeConfigDrawer.vue → components/config/
- NodeTypeSelector.vue → components/nodes/
- PreviewLineStyleConfig.vue → components/config/
- workflow/ → components/workflow/
- workflow-editor/ → components/workflow-editor/

**从 src/composables 需要迁移的文件:**
- layout/HierarchyAdapter.js → composables/layout/
- layout/HierarchyLayoutEngine.js → composables/layout/
- useCanvasConnection.js → composables/canvas/
- useCanvasExport.js → composables/canvas/ (已存在)
- useCanvasHistory.js → composables/canvas/ (已存在)
- useCanvasMinimap.js → composables/canvas/ (已存在)
- useCanvasToolbar.js → composables/canvas/ (已存在)
- useConfigDrawers.js → composables/managers/
- useEventManager.js → composables/managers/
- useLayoutEngine.js → composables/layout/
- useNodeManager.js → composables/managers/
- usePreviewLine.js → composables/canvas/
- usePreviewLineManager.js → composables/managers/
- useStructuredLayout.js → composables/layout/
- useX6Events.js → composables/canvas/

**从 src/utils 需要迁移的文件:**
- CanvasPanZoomManager.js → utils/managers/
- CoordinateSystemManager.js → utils/coordinate/
- EdgeOverlapManager.js → utils/managers/
- EndNodeConfig.js → utils/config/
- GlobalDragStateManager.js → utils/managers/
- NodeConfigManager.js → utils/managers/
- PreviewLineStyleManager.js → utils/managers/
- UnifiedPreviewLineManager.js → utils/managers/ (已存在)
- UnifiedStructuredLayoutEngine.js → utils/canvas/
- canvasConfig.js → utils/config/
- canvasValidation.js → utils/canvas/ (已存在)
- connectionConfigFactory.js → utils/config/
- coordinate-refactor/ → utils/coordinate/
- nodeConnectionHelper.js → utils/canvas/
- portConfigFactory.js → utils/config/
- previewConfig.js → utils/config/
- workflowNodeCreator.js → utils/canvas/
- workflowNodeTypes.js → utils/config/
- x6Config.js → utils/config/

开始执行迁移...
