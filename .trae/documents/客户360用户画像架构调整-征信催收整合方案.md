# 客户360用户画像架构调整 - 征信催收整合方案

## 1. 方案概述

基于用户需求，将征信信息和催收记录从用户基础信息区移动到客户画像模块中，实现更合理的信息架构和更好的用户体验。

### 1.1 调整目标
- 将征信信息整合到客户画像的风险画像模块中的信用风险部分
- 将催收记录整合到客户画像的催收画像模块中
- 保持与现有客户画像架构的一致性
- 提升信息的逻辑性和可访问性

### 1.2 影响范围
- 用户基础信息区：移除征信和催收信息展示
- 客户画像模块：增强风险画像和催收画像功能
- 数据流：调整征信和催收数据的传递路径

## 2. 现有架构分析

### 2.1 当前征信信息位置
- **当前位置**：用户基础信息区的独立组件
- **组件文件**：`CreditRecords.vue`、`CreditReports.vue`
- **数据来源**：`customer360.ts` 中的 `creditReports` 字段
- **展示内容**：
  - 征信报告ID、查询时间、报告类型
  - 征信分数、征信等级、风险等级
  - 查询次数、逾期次数、最大逾期天数
  - 总授信额度、已用授信额度、征信利用率
  - 个人信息、征信历史、公共记录等详细内容

### 2.2 当前催收记录位置
- **当前位置**：用户基础信息区的独立组件
- **组件文件**：`CollectionRecords.vue`
- **数据来源**：`customer360.ts` 中的 `collectionRecords` 字段
- **展示内容**：
  - 催收ID、催收日期时间、催收方式
  - 催收人员、联系结果、客户响应
  - 承诺金额、承诺日期、风险等级
  - 后续行动、备注、效果评分、通话时长

### 2.3 现有客户画像架构
- **客户基础画像**：基本信息、资产负债、行为特征
- **客户风险画像**：信用风险、操作风险、市场风险
- **贷后画像**：还款行为、逾期情况、风险预警

## 3. 新架构设计

### 3.1 征信信息整合到风险画像

#### 3.1.1 目标位置
- **模块**：客户画像 > 客户风险画像 > 信用风险
- **展示方式**：作为信用风险评估的核心数据源

#### 3.1.2 信用风险模块结构
```
信用风险
├── 征信概览
│   ├── 征信分数
│   ├── 征信等级
│   ├── 风险等级
│   └── 最近查询时间
├── 征信详情
│   ├── 查询记录
│   ├── 逾期情况
│   ├── 授信情况
│   └── 账户信息
└── 征信报告
    ├── 报告列表
    ├── 报告预览
    └── 报告下载
```

#### 3.1.3 数据字段映射
| 原字段 | 新位置 | 展示方式 |
|--------|--------|----------|
| creditScore | 征信概览 | 大数字展示 |
| creditGrade | 征信概览 | 等级标签 |
| riskLevel | 征信概览 | 风险标签 |
| reportDate | 征信概览 | 最近查询时间 |
| queryCount | 征信详情 | 查询次数统计 |
| overdueTimes | 征信详情 | 逾期次数 |
| maxOverdueDays | 征信详情 | 最大逾期天数 |
| totalCreditLimit | 征信详情 | 总授信额度 |
| usedCreditLimit | 征信详情 | 已用授信额度 |
| creditUtilization | 征信详情 | 征信利用率 |
| reportContent | 征信报告 | 详细报告内容 |

### 3.2 催收记录整合到催收画像

#### 3.2.1 目标位置
- **模块**：客户画像 > 贷后画像 > 催收画像
- **展示方式**：作为贷后管理的重要组成部分

#### 3.2.2 催收画像模块结构
```
催收画像
├── 催收概览
│   ├── 催收次数
│   ├── 催收成功率
│   ├── 平均响应时间
│   └── 风险等级分布
├── 催收记录
│   ├── 记录列表
│   ├── 时间轴视图
│   └── 效果分析
└── 催收策略
    ├── 推荐策略
    ├── 历史策略
    └── 效果评估
```

#### 3.2.3 数据字段映射
| 原字段 | 新位置 | 展示方式 |
|--------|--------|----------|
| collectionDate | 催收记录 | 时间轴 |
| collectionMethod | 催收记录 | 方式标签 |
| collectorName | 催收记录 | 催收人员 |
| contactResult | 催收记录 | 结果状态 |
| customerResponse | 催收记录 | 响应内容 |
| promiseAmount | 催收记录 | 承诺金额 |
| promiseDate | 催收记录 | 承诺日期 |
| riskLevel | 催收概览 | 风险分布 |
| effectiveScore | 催收概览 | 效果评分 |
| duration | 催收记录 | 通话时长 |
| remarks | 催收记录 | 备注信息 |

## 4. 实施方案

### 4.1 第一阶段：数据结构调整

#### 4.1.1 更新UserProfile组件
- 在风险画像中添加信用风险子模块
- 在贷后画像中增强催收画像子模块
- 调整数据传递和计算逻辑

#### 4.1.2 创建新的子组件
- `CreditRiskProfile.vue`：信用风险画像组件
- `CollectionProfile.vue`：催收画像组件
- 复用现有的征信和催收组件逻辑

### 4.2 第二阶段：组件迁移

#### 4.2.1 征信组件迁移
- 将 `CreditRecords.vue` 逻辑迁移到 `CreditRiskProfile.vue`
- 调整UI布局，适配画像模块的设计风格
- 保持数据过滤和产品关联功能

#### 4.2.2 催收组件迁移
- 将 `CollectionRecords.vue` 逻辑迁移到 `CollectionProfile.vue`
- 增加时间轴视图和效果分析功能
- 保持风险等级和效果评分展示

### 4.3 第三阶段：界面优化

#### 4.3.1 用户基础信息区清理
- 移除征信和催收相关组件引用
- 调整布局，优化剩余信息的展示
- 确保页面整体协调性

#### 4.3.2 客户画像增强
- 优化风险画像的信用风险展示
- 增强贷后画像的催收功能
- 保持三个画像模块的平衡性

## 5. 技术实现细节

### 5.1 数据流调整

#### 5.1.1 征信数据流
```
原流程：detail.vue → BasicInfo.vue → CreditRecords.vue
新流程：detail.vue → UserProfile.vue → CreditRiskProfile.vue
```

#### 5.1.2 催收数据流
```
原流程：detail.vue → BasicInfo.vue → CollectionRecords.vue
新流程：detail.vue → UserProfile.vue → CollectionProfile.vue
```

### 5.2 组件结构调整

#### 5.2.1 UserProfile.vue 更新
```vue
<template>
  <div class="user-profile">
    <!-- 客户基础画像 -->
    <BasicProfile :user-info="userInfo" />
    
    <!-- 客户风险画像 -->
    <RiskProfile :user-info="userInfo">
      <!-- 信用风险（新增征信信息） -->
      <CreditRiskProfile 
        :credit-reports="userInfo.creditReports"
        :product-key="productKey"
      />
    </RiskProfile>
    
    <!-- 贷后画像 -->
    <PostLoanProfile :user-info="userInfo">
      <!-- 催收画像（新增催收记录） -->
      <CollectionProfile 
        :collection-records="userInfo.collectionRecords"
        :product-key="productKey"
      />
    </PostLoanProfile>
  </div>
</template>
```

### 5.3 样式适配

#### 5.3.1 保持设计一致性
- 使用与现有画像模块相同的卡片样式
- 保持颜色主题和字体规范
- 适配响应式布局

#### 5.3.2 优化信息密度
- 征信信息采用概览+详情的展示方式
- 催收记录采用时间轴+卡片的展示方式
- 保持信息的可读性和可操作性

## 6. 用户体验优化

### 6.1 信息查找便利性
- 征信信息在风险画像中更容易找到
- 催收记录在贷后画像中逻辑更清晰
- 减少用户在不同区域间的跳转

### 6.2 数据关联性
- 征信信息与其他风险指标形成整体视图
- 催收记录与还款行为、逾期情况关联展示
- 提升数据分析的效率

### 6.3 操作一致性
- 保持现有的复制、导出、筛选功能
- 统一画像模块的交互方式
- 保持产品切换功能的正常工作

## 7. 测试验证

### 7.1 功能测试
- 验证征信信息在风险画像中的正确展示
- 验证催收记录在催收画像中的正确展示
- 验证产品切换时数据过滤的正确性

### 7.2 用户体验测试
- 验证信息查找的便利性
- 验证数据关联的合理性
- 验证界面布局的协调性

### 7.3 性能测试
- 验证数据加载性能
- 验证组件渲染性能
- 验证内存使用情况

## 8. 风险评估

### 8.1 技术风险
- **低风险**：主要是组件迁移，技术实现相对简单
- **缓解措施**：保持现有组件逻辑，只调整位置和样式

### 8.2 用户体验风险
- **中等风险**：用户需要适应新的信息位置
- **缓解措施**：提供过渡期提示，保持功能一致性

### 8.3 数据风险
- **低风险**：不涉及数据结构变更
- **缓解措施**：保持现有数据接口和字段定义

## 9. 实施时间表

### 9.1 第一周
- 更新需求文档和技术方案
- 创建新的子组件文件
- 调整UserProfile组件结构

### 9.2 第二周
- 迁移征信组件到风险画像
- 迁移催收组件到催收画像
- 调整样式和布局

### 9.3 第三周
- 清理用户基础信息区
- 完善功能测试
- 优化用户体验

## 10. 总结

本方案将征信信息和催收记录合理地整合到客户画像模块中，提升了信息架构的逻辑性和用户体验的一致性。通过将征信信息放入风险画像的信用风险部分，催收记录放入贷后画像的催收画像部分，实现了更好的信息分类和关联展示，有助于用户更高效地进行客户分析和风险评估。