## 问题
- 同一分支向后延伸的节点会与其他分支节点交叉；当前 Dagre 只给出层级与坐标，未保证跨层的车道连续性。

## 目标
- 不修改连线：`router: 'normal'` + `connector: 'smooth'`，不写 `edge.vertices`。
- 为每个分支建立“车道走廊”，从分支点到末端跨层保持同一Y基线；不同车道之间不交叉。

## 方案
### 1) 拓扑+车道标注
- 构建入/出邻接表与 `rankOf`（BFS）；找到第一层分支点（出度>1）。
- 车道分配：
  - 在分支点按端口顺序或业务优先级确定车道索引 `laneId`（稳定排序）。
  - 将每条出边的后续节点沿路径继承其 `laneId`（DFS/BFS）；
  - 合流节点（多上游）：选择多数上游车道或最短路径车道；冲突时按“车道优先级”决策。

### 2) 车道走廊坐标约束
- 计算 `laneY = baseY + laneId * laneGapY`；跨层节点的Y固定为该车道基线。
- X坐标采用“层列网格”，保证单调：`x = startX + rank * colSpacing`；防止同一车道跨层折返导致交叉。
- 同层同车道的多个节点，使用轻微 `dy`（±16）避免重叠；但仍保持在车道走廊内。

### 3) 节点应用与防交叉保障
- 批量 `node.position(x, y)` 应用；
- 在每层对节点按 `laneId`分组并按 `x`排序，保证相邻层的投影不交叉（即“层内不穿插”）。

### 4) 参数
- `laneGapY`（默认 240）、`colSpacing`（默认 260）、`startX/startY`（默认 80/120）。
- 车道排序策略：`portIndex` | `typePriority` | `sinkX`（默认 portIndex）。

### 5) 实施位置
- `src/pages/marketing/tasks/horizontal/utils/quickLayout.js`
  - 新增 `assignLaneIds(graph)`、`buildRanks(graph)`、`computeGridPositions(ranks, laneIds, config)`；
  - 在现有 `executeDagreRanksLaneAdjust` 中替换坐标生成为“层列网格+车道走廊”算法（Dagre仅用于rank推断与初始x参考）。
- `src/pages/marketing/tasks/horizontal/index.vue`
  - 快速布局入口继续调用 `executeDagreRanksLaneAdjust`；参数透传 `laneGapY/colSpacing`。

### 6) 验证
- 多层分支示例：每条分支在独立走廊内前进，跨层不交叉；
- 快速布局后节点明显重排，连线仍平滑无控制点；
- 缩放/拖拽新增节点坐标准确（保持 `pageToLocal`）。

如确认，我将按此方案实现代码，确保“同分支不与其他分支交叉”的视觉效果。