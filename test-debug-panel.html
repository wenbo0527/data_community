<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>调试面板功能测试</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 20px;
            line-height: 1.6;
        }
        .test-section {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .success {
            color: #52c41a;
            font-weight: bold;
        }
        .info {
            color: #1890ff;
        }
        .warning {
            color: #faad14;
        }
        code {
            background: #f0f0f0;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Monaco', 'Consolas', monospace;
        }
    </style>
</head>
<body>
    <h1>🐛 调试面板功能测试指南</h1>
    
    <div class="test-section">
        <h2>✅ 功能实现完成</h2>
        <p class="success">调试功能悬浮框已成功添加到 TaskFlowCanvas.vue 组件中！</p>
    </div>
    
    <div class="test-section">
        <h2>🎯 测试步骤</h2>
        <ol>
            <li><strong>打开画布页面</strong>：导航到任务流程画布页面</li>
            <li><strong>查找调试按钮</strong>：在工具栏的导出图片按钮后面找到 <code>🐛 调试</code> 按钮</li>
            <li><strong>打开调试面板</strong>：点击调试按钮，应该会弹出调试悬浮框</li>
            <li><strong>测试拖拽功能</strong>：拖拽调试面板的标题栏，面板应该可以移动</li>
            <li><strong>测试预览线检查</strong>：点击 "预览线有效性检查" 按钮</li>
            <li><strong>查看统计结果</strong>：检查面板中显示的统计数据</li>
            <li><strong>查看控制台</strong>：打开浏览器开发者工具，查看控制台中的详细统计信息</li>
            <li><strong>关闭面板</strong>：点击右上角的 ✕ 按钮关闭调试面板</li>
        </ol>
    </div>
    
    <div class="test-section">
        <h2>📊 统计信息说明</h2>
        <ul>
            <li><strong class="info">节点数</strong>：画布中所有节点的总数量</li>
            <li><strong class="info">配置数</strong>：已配置的节点数量（isConfigured = true）</li>
            <li><strong class="info">应该存在的预览线数</strong>：基于已配置节点计算的预期预览线数量</li>
            <li><strong class="info">实际预览线数</strong>：UnifiedPreviewLineManager 中实际存在的预览线数量</li>
            <li><strong class="info">应该存在的连接数</strong>：等于应该存在的预览线数</li>
            <li><strong class="info">实际连接数</strong>：画布中实际的连接线数量</li>
        </ul>
    </div>
    
    <div class="test-section">
        <h2>🔧 技术实现要点</h2>
        <ul>
            <li>✅ 在工具栏添加了调试按钮（使用 IconBug 图标）</li>
            <li>✅ 实现了可拖拽的悬浮框组件</li>
            <li>✅ 集成了 UnifiedPreviewLineManager 的统计方法</li>
            <li>✅ 添加了预览线有效性检查功能</li>
            <li>✅ 实现了详细的控制台日志输出</li>
            <li>✅ 使用了 Arco Design 的组件和样式</li>
            <li>✅ 添加了响应式设计和动画效果</li>
        </ul>
    </div>
    
    <div class="test-section">
        <h2>🎨 样式特性</h2>
        <ul>
            <li><span class="info">毛玻璃效果</span>：使用 backdrop-filter 实现现代化视觉效果</li>
            <li><span class="info">渐变背景</span>：标题栏使用蓝色渐变背景</li>
            <li><span class="info">悬停动画</span>：统计卡片和按钮都有悬停效果</li>
            <li><span class="info">拖拽反馈</span>：拖拽时面板会有旋转和阴影效果</li>
            <li><span class="info">响应式布局</span>：在小屏幕设备上自动调整布局</li>
        </ul>
    </div>
    
    <div class="test-section">
        <h2>⚠️ 注意事项</h2>
        <ul>
            <li class="warning">确保画布中有节点才能看到有意义的统计数据</li>
            <li class="warning">预览线统计依赖于 UnifiedPreviewLineManager 的正确初始化</li>
            <li class="warning">控制台日志提供了更详细的调试信息</li>
            <li class="warning">调试面板的位置会在拖拽后保持，直到页面刷新</li>
        </ul>
    </div>
    
    <div class="test-section">
        <h2>🚀 使用建议</h2>
        <p>这个调试功能特别适合用于：</p>
        <ul>
            <li>检查预览线生成逻辑是否正确</li>
            <li>验证节点配置状态</li>
            <li>调试连接线和预览线的一致性</li>
            <li>分析画布性能问题</li>
            <li>开发和测试新功能时的状态监控</li>
        </ul>
    </div>
    
    <script>
        console.log('🐛 调试面板功能测试页面已加载');
        console.log('请按照上述步骤测试调试功能');
    </script>
</body>
</html>